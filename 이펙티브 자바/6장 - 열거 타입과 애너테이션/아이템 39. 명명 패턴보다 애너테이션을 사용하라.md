# 아이템 39. 명명 패턴보다 애너테이션을 사용하라

## 명명 패턴

전통적으로 도구나 프레임워크가 특별히 다뤄야 할 프로그램 요소에는 딱 구분되는 명명 패턴을 적용해왔다.

```java
public class HelloTest extends TestCase {
	public void testGetUsers() {
		return getUsers();
	}
}
```

## 명명 패턴의 단점

그러나 이러한 명명패턴은 몇가지 단점을 가지고 있다.

- 오타가 나면 안 된다.
- 올바른 프로그램 요소에서만 사용 되리라 보증할 방법이 없다. 예컨대 클래스 이름을 TestSafetyMechanism로 지어 JUnit에 던져 줬다고 하면 JUnit은 경고 메시지조차 출력하지 않으면서 의도한 테스트가 전혀 수행되지 않을 것이다.
- 프로그램 요소를 매개 변수로 전달할 마땅한 방법이 없다. 특정 예외를 던져야만 성공하는 테스트가 있다고 가정 했을 때, 예외의 이름을 테스트 메서드 이름에 덧붙이는 방법도 있지만 보기도 나쁘고 깨지기도 쉽다. 컴파일러는 메서드 이름에 덧붙인 문자열이 예외를 가르키는 지 알 도리가 없다.

## 어노테이션

에너테이션은 이 모든 문제를 해결해주는 개념으로 Junit도 버전 4부터 전면 도입하였다.

```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface Test {
}
```

### 마커 어노테이션

```java
public class Sample {
    @Test
    public static void m1() {
        // ...
    }
}
```

아무 매개변수 없이 단순히 대상에 마킹한다는 뜻에서 마커 어노테이션이라고 한다.

이 어노테이션을 사용하면 프로그래머가 Test 이름에 오타를 내거나 테스트 메서드가 아닌 곳에 사용하는 일을 컴파일러가 잡아준다.

## 정리

- 어노테이션으로 할 수 있는 일을 명명 패턴으로 처리할 이유는 없다
- 도구 제작자를 제외하고는 일반 프로그래머가 애너테이션 타입을 직접 정의할 일은 없다
- 하지만 자바 프로그래머라면 예외 없이 자바가 제공하는 애너테이션들은 사용해야 한다
- 애너테이션을 사용하면 프로그램의 의미를 명확히 할 수 있고, 코드를 더 깔끔하게 만들 수 있다
